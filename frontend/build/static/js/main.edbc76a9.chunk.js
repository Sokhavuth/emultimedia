(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(22),r=n.n(i),o=n(2),j=(n(30),n(3)),l=n(4),u=n(9),d=n(8),h=n(5),b=(n(31),n(6)),m=n.n(b),p=n(12),O=(n(33),new(function(){function e(){Object(j.a)(this,e)}return Object(l.a)(e,[{key:"fetchAPI",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPostAPI",value:function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}},e.prev=1,e.next=4,fetch(t,c);case 4:return s=e.sent,e.next=7,s.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.fetchAPI("/admin/logged");case 2:return t=e.sent,e.abrupt("return",t.logged);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}())),g=O,x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).checkLogin=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.checkLogin();case 2:e.sent||c.setState({redirect:"/login"});case 4:case"end":return e.stop()}}),e)}))),c.logOut=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.fetchAPI(t);case 2:e.sent.success&&c.setState({redirect:"/"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={dTitle:"Dashboard",redirect:!1},c.checkLogin(),c}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(c.jsx)(h.a,{to:this.state.redirect}):Object(c.jsx)("div",{className:"DHeader",children:Object(c.jsx)("section",{id:"header",children:Object(c.jsx)("div",{id:"header-outer",children:Object(c.jsxs)("div",{className:"header-inner region",children:[Object(c.jsx)("h1",{children:this.state.dTitle}),Object(c.jsxs)("form",{id:"search",action:"/admin/search",method:"post",children:[Object(c.jsxs)("select",{id:"search-label",name:"fsearch-label",children:[Object(c.jsx)("option",{children:"Post"}),Object(c.jsx)("option",{children:"Page"}),Object(c.jsx)("option",{children:"Author"})]}),Object(c.jsx)("input",{type:"text",name:"querry",placeholder:"Search"}),Object(c.jsx)("input",{type:"submit"})]}),Object(c.jsx)("div",{id:"logout",children:Object(c.jsx)("a",{href:!0,onClick:function(){return e.logOut("/admin/logout")},children:"Logout"})})]})})})})}}]),n}(a.a.Component),f=(n(39),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"DSidebar region",children:[Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/post",children:Object(c.jsx)("img",{alt:"",src:"/images/posting.png"})}),Object(c.jsx)(o.b,{to:"/admin/post",children:"Post"})]}),Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/page",children:Object(c.jsx)("img",{alt:"",src:"/images/paging.png"})}),Object(c.jsx)(o.b,{to:"/admin/page",children:"Page"})]}),Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/category",children:Object(c.jsx)("img",{alt:"",src:"/images/category.png"})}),Object(c.jsx)(o.b,{to:"/admin/category",children:"Category"})]}),Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/upload",children:Object(c.jsx)("img",{alt:"",src:"/images/upload.png"})}),Object(c.jsx)(o.b,{to:"/admin/upload",children:"Upload"})]}),Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/author",children:Object(c.jsx)("img",{alt:"",src:"/images/user.png"})}),Object(c.jsx)(o.b,{to:"/admin/author",children:"Author"})]}),Object(c.jsxs)("div",{className:"menu-item",children:[Object(c.jsx)(o.b,{to:"/admin/setting",children:Object(c.jsx)("img",{alt:"",src:"/images/setting.png"})}),Object(c.jsx)(o.b,{to:"/admin/setting",children:"Setting"})]})]})}}]),n}(a.a.Component)),v=[Object(c.jsxs)(h.b,{exact:!0,path:"/admin",children:[Object(c.jsx)(x,{}),Object(c.jsx)("div",{className:"region",children:Object(c.jsx)(f,{})})]})],y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).mobileMenu=function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"main-menu-outer",children:[Object(c.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(c.jsx)("nav",{className:"main-menu region",children:Object(c.jsxs)("div",{className:"topnav",id:"myTopnav",children:[Object(c.jsx)(o.b,{id:"house",to:"/",className:"active",children:Object(c.jsx)("img",{alt:"",src:"/images/house.png"})}),Object(c.jsx)(o.b,{to:"/news",children:"News"}),Object(c.jsx)(o.b,{to:"/contact",children:"Contact"}),Object(c.jsx)(o.b,{to:"/about",children:"About"}),Object(c.jsx)(o.b,{to:"/login",children:"Login"}),Object(c.jsx)(o.b,{onClick:this.mobileMenu,className:"icon",children:Object(c.jsx)("i",{className:"fa fa-bars"})})]})})]})}}]),n}(a.a.Component),k=(n(40),new(function(){function e(){Object(j.a)(this,e)}return Object(l.a)(e,[{key:"clock",value:function(){var e="AM",t=new Date,n=t.getHours();n>12&&(n-=12,e="PM");var c=t.getMinutes(),s=t.getSeconds();c=k.checkTime(c),s=k.checkTime(s),document.getElementById("kh-clock").innerHTML=n+" : "+c+" : "+s+" "+e,k.t=setTimeout(k.clock,500)}},{key:"checkTime",value:function(e){return e<10&&(e="0"+e),e}}]),e}())),w=k,N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,g.fetchAPI("/api");case 3:e.t1=e.sent,e.t0.setState.call(e.t0,e.t1),document.title=this.state.siteTitle,w.clock(),t={weekday:"long",year:"numeric",month:"long",day:"numeric"},document.getElementById("date").innerHTML=(new Date).toLocaleDateString("en-US",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("section",{id:"header",children:[Object(c.jsx)("div",{className:"top-menu-outer",children:Object(c.jsxs)("div",{className:"top-menu region",children:[Object(c.jsx)("span",{id:"date"}),Object(c.jsx)("span",{id:"kh-clock",className:"time",children:"time"})]})}),Object(c.jsx)("div",{className:"title-outer",children:Object(c.jsxs)("h1",{className:"site-title region",children:[Object(c.jsx)("span",{children:Object(c.jsx)("a",{href:"/",children:this.state.siteTitle})}),Object(c.jsx)("img",{className:"news",alt:"",src:"/images/newspaper.png"}),Object(c.jsx)("span",{children:Object(c.jsx)("img",{alt:"",className:"tvlive",src:"/images/livetv.png"})})]})})]})})}}]),n}(a.a.Component),C=(n(41),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"Footer",children:Object(c.jsxs)("p",{children:["\xa9 Copyright 2021 by ",Object(c.jsx)("a",{href:"https://www.khmerweb.app/",children:"Khmer Web"})]})})}}]),n}(a.a.Component)),T=(n(42),n(16)),P=n.n(T),I=new(function(){function e(){Object(j.a)(this,e),this.pageTokens=[],this.apiKey="AIzaSyCDMr6toQGyDRFPChRsbQ2sheSQfTQLVqg",this.kplaylistId="UUQfwfsi5VrQ8yKZ-UWmAEFg",this.yt_nextPageToken=!1,this.yt_prevPageToken=!1,this.kclicked=!1,this.kPlaylistt=[],this.kPlaylist=[],this.created=!1,this.videoIds=[]}return Object(l.a)(e,[{key:"getVidContent",value:function(e){P()("#navigation img").eq(1).attr("src","/images/loading.gif"),I.option={part:["snippet,contentDetails"],playlistId:I.kplaylistId,maxResults:5},e&&(I.option.pageToken=e),window.gapi.client.init({apiKey:I.apiKey,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"]}).then((function(){return window.gapi.client.youtube.playlistItems.list(I.option)})).then((function(e){I.yt_nextPageToken=e.result.nextPageToken,I.yt_prevPageToken=e.result.prevPageToken,I.getVidData(e.result.items)}),(function(e){console.log("Error: "+e.result.error.message)}))}},{key:"getVidData",value:function(e){for(var t in this.videoIds=[],e)this.videoIds.push(e[t].snippet.resourceId.videoId);this.createPlayer()}},{key:"createPlayer",value:function(){var e="";for(var t in this.videoIds)e+="<div>",e+='<iframe allowfullscreen src="https://www.youtube.com/embed/'.concat(this.videoIds[t],'"></iframe>'),e+="</div>";P()(".panel #video-screen").html(e),P()("#navigation img").eq(1).attr("src","/images/home.png")}}]),e}()),S=I,D=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://apis.google.com/js/client.js",e.onload=function(){window.gapi.load("client",(function(){S.getVidContent()}))},document.body.appendChild(e)}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"Channel",children:Object(c.jsxs)("section",{className:"panel region",children:[Object(c.jsx)("div",{id:"video-screen"}),Object(c.jsxs)("div",{id:"navigation",children:[Object(c.jsx)("img",{alt:"",onClick:function(){return S.getVidContent(S.yt_prevPageToken)},src:"/images/left.png"}),Object(c.jsx)("img",{alt:"",onClick:function(){return S.getVidContent()},src:"/images/home.png"}),Object(c.jsx)("img",{alt:"",onClick:function(){return S.getVidContent(S.yt_nextPageToken)},src:"/images/right.png"})]})]})})}}]),n}(a.a.Component),L=n(24),A=(n(43),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).checkLogin=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.checkLogin();case 2:e.sent&&(clearTimeout(w.t),c.setState({redirect:"/admin"}));case 4:case"end":return e.stop()}}),e)}))),c.onChangeHandler=function(e){var t=e.target.name,n=e.target.value;c.setState(Object(L.a)({},t,n))},c.onSubmitHandler=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:c.state.email,password:c.state.password},e.next=4,g.fetchPostAPI("/admin/login",n);case 4:(s=e.sent).success?(clearTimeout(w.t),c.setState({message:s.message,siteTitle:s.siteTitle,redirect:"/admin"})):c.setState({message:s.message});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={message:"",email:"",password:"",siteTitle:"Dashboard",redirect:!1},c.checkLogin(),c}return Object(l.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(c.jsx)(h.a,{to:this.state.redirect}):Object(c.jsxs)("div",{className:"Login region",children:[Object(c.jsxs)("form",{id:"login",action:"/admin/login",method:"post",onSubmit:this.onSubmitHandler,children:[Object(c.jsx)("span",{children:"Email:"}),Object(c.jsx)("input",{onChange:this.onChangeHandler,type:"email",name:"email",required:!0}),Object(c.jsx)("span",{children:"Password:"}),Object(c.jsx)("input",{onChange:this.onChangeHandler,type:"password",name:"password",required:!0}),Object(c.jsx)("span",{}),Object(c.jsx)("input",{type:"submit"})]}),Object(c.jsxs)("div",{className:"message",children:[" ",this.state.message," "]})]})}}]),n}(a.a.Component)),M=[Object(c.jsxs)(h.b,{exact:!0,path:"/",children:[Object(c.jsx)(N,{}),Object(c.jsx)(y,{}),Object(c.jsx)(D,{}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/news",children:[Object(c.jsx)(N,{}),Object(c.jsx)(y,{}),Object(c.jsx)("h1",{children:"News"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/contact",children:[Object(c.jsx)(N,{}),Object(c.jsx)(y,{}),Object(c.jsx)("h1",{children:"Contact"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/about",children:[Object(c.jsx)(N,{}),Object(c.jsx)(y,{}),Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/login",children:[Object(c.jsx)(N,{}),Object(c.jsx)(y,{}),Object(c.jsx)(A,{}),Object(c.jsx)(C,{})]})],H=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(h.d,{children:[M,v]})})}}]),n}(s.Component),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(o.a,{children:Object(c.jsx)(H,{})}),document.getElementById("root")),V()}},[[44,1,2]]]);
//# sourceMappingURL=main.edbc76a9.chunk.js.map