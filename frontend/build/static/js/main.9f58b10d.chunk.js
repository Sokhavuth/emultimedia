(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(22),i=n.n(r),o=n(7),u=(n(30),n(3)),l=n(4),j=n(9),d=n(8),h=n(2),b=(n(31),n(5)),p=n.n(b),m=n(12),O=(n(33),new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"fetchAPI",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPostAPI",value:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}},e.prev=1,e.next=4,fetch(t,c);case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.fetchAPI("/admin/logged");case 2:return t=e.sent,e.abrupt("return",t.logged);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}())),f=O,g=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).checkLogin=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.checkLogin();case 2:e.sent||c.setState({redirect:"/login"});case 4:case"end":return e.stop()}}),e)}))),c.logOut=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchAPI(t);case 2:e.sent.success&&c.setState({redirect:"/"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={dTitle:"Dashboard",redirect:!1},c.checkLogin(),c}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(c.jsx)(h.a,{to:this.state.redirect}):Object(c.jsx)("div",{className:"DHeader",children:Object(c.jsx)("section",{id:"header",children:Object(c.jsx)("div",{id:"header-outer",children:Object(c.jsxs)("div",{className:"header-inner region",children:[Object(c.jsx)("h1",{children:this.state.dTitle}),Object(c.jsxs)("form",{id:"search",action:"/admin/search",method:"post",children:[Object(c.jsxs)("select",{id:"search-label",name:"fsearch-label",children:[Object(c.jsx)("option",{children:"Post"}),Object(c.jsx)("option",{children:"Page"}),Object(c.jsx)("option",{children:"Author"})]}),Object(c.jsx)("input",{type:"text",name:"querry",placeholder:"Search"}),Object(c.jsx)("input",{type:"submit"})]}),Object(c.jsx)("div",{id:"logout",children:Object(c.jsx)("a",{href:!0,onClick:function(){return e.logOut("/admin/logout")},children:"Logout"})})]})})})})}}]),n}(s.a.Component),x=[Object(c.jsx)(h.b,{exact:!0,path:"/admin",children:Object(c.jsx)(g,{})})],v=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).mobileMenu=function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"main-menu-outer",children:[Object(c.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(c.jsx)("nav",{className:"main-menu region",children:Object(c.jsxs)("div",{className:"topnav",id:"myTopnav",children:[Object(c.jsx)(o.b,{id:"house",to:"/",className:"active",children:Object(c.jsx)("img",{alt:"",src:"/images/house.png"})}),Object(c.jsx)(o.b,{to:"/news",children:"News"}),Object(c.jsx)(o.b,{to:"/contact",children:"Contact"}),Object(c.jsx)(o.b,{to:"/about",children:"About"}),Object(c.jsx)(o.b,{to:"/login",children:"Login"}),Object(c.jsx)(o.b,{onClick:this.mobileMenu,className:"icon",children:Object(c.jsx)("i",{className:"fa fa-bars"})})]})})]})}}]),n}(s.a.Component),y=(n(39),new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"clock",value:function(){var e="AM",t=new Date,n=t.getHours();n>12&&(n-=12,e="PM");var c=t.getMinutes(),a=t.getSeconds();c=y.checkTime(c),a=y.checkTime(a),document.getElementById("kh-clock").innerHTML=n+" : "+c+" : "+a+" "+e,y.t=setTimeout(y.clock,500)}},{key:"checkTime",value:function(e){return e<10&&(e="0"+e),e}}]),e}())),k=y,w=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,f.fetchAPI("/api");case 3:e.t1=e.sent,e.t0.setState.call(e.t0,e.t1),document.title=this.state.siteTitle,k.clock(),t={weekday:"long",year:"numeric",month:"long",day:"numeric"},document.getElementById("date").innerHTML=(new Date).toLocaleDateString("en-US",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("section",{id:"header",children:[Object(c.jsx)("div",{className:"top-menu-outer",children:Object(c.jsxs)("div",{className:"top-menu region",children:[Object(c.jsx)("span",{id:"date"}),Object(c.jsx)("span",{id:"kh-clock",className:"time",children:"time"})]})}),Object(c.jsx)("div",{className:"title-outer",children:Object(c.jsxs)("h1",{className:"site-title region",children:[Object(c.jsx)("span",{children:Object(c.jsx)("a",{href:"/",children:this.state.siteTitle})}),Object(c.jsx)("img",{className:"news",alt:"",src:"/images/newspaper.png"}),Object(c.jsx)("span",{children:Object(c.jsx)("img",{alt:"",className:"tvlive",src:"/images/livetv.png"})})]})})]})})}}]),n}(s.a.Component),C=(n(40),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"Footer",children:Object(c.jsxs)("p",{children:["\xa9 Copyright 2021 by ",Object(c.jsx)("a",{href:"https://www.khmerweb.app/",children:"Khmer Web"})]})})}}]),n}(s.a.Component)),T=(n(41),n(16)),N=n.n(T),P=new(function(){function e(){Object(u.a)(this,e),this.pageTokens=[],this.apiKey="AIzaSyCDMr6toQGyDRFPChRsbQ2sheSQfTQLVqg",this.kplaylistId="UUQfwfsi5VrQ8yKZ-UWmAEFg",this.yt_nextPageToken=!1,this.yt_prevPageToken=!1,this.kclicked=!1,this.kPlaylistt=[],this.kPlaylist=[],this.created=!1,this.videoIds=[]}return Object(l.a)(e,[{key:"getVidContent",value:function(e){N()("#navigation img").eq(1).attr("src","/images/loading.gif"),P.option={part:["snippet,contentDetails"],playlistId:P.kplaylistId,maxResults:5},e&&(P.option.pageToken=e),window.gapi.client.init({apiKey:P.apiKey,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"]}).then((function(){return window.gapi.client.youtube.playlistItems.list(P.option)})).then((function(e){P.yt_nextPageToken=e.result.nextPageToken,P.yt_prevPageToken=e.result.prevPageToken,P.getVidData(e.result.items)}),(function(e){console.log("Error: "+e.result.error.message)}))}},{key:"getVidData",value:function(e){for(var t in this.videoIds=[],e)this.videoIds.push(e[t].snippet.resourceId.videoId);this.createPlayer()}},{key:"createPlayer",value:function(){var e="";for(var t in this.videoIds)e+="<div>",e+='<iframe allowfullscreen src="https://www.youtube.com/embed/'.concat(this.videoIds[t],'"></iframe>'),e+="</div>";N()(".panel #video-screen").html(e),N()("#navigation img").eq(1).attr("src","/images/home.png")}}]),e}()),I=P,S=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).state={},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://apis.google.com/js/client.js",e.onload=function(){window.gapi.load("client",(function(){I.getVidContent()}))},document.body.appendChild(e)}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"Channel",children:Object(c.jsxs)("section",{className:"panel region",children:[Object(c.jsx)("div",{id:"video-screen"}),Object(c.jsxs)("div",{id:"navigation",children:[Object(c.jsx)("img",{alt:"",onClick:function(){return I.getVidContent(I.yt_prevPageToken)},src:"/images/left.png"}),Object(c.jsx)("img",{alt:"",onClick:function(){return I.getVidContent()},src:"/images/home.png"}),Object(c.jsx)("img",{alt:"",onClick:function(){return I.getVidContent(I.yt_nextPageToken)},src:"/images/right.png"})]})]})})}}]),n}(s.a.Component),D=n(24),L=(n(42),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).checkLogin=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.checkLogin();case 2:e.sent&&(clearTimeout(k.t),c.setState({redirect:"/admin"}));case 4:case"end":return e.stop()}}),e)}))),c.onChangeHandler=function(e){var t=e.target.name,n=e.target.value;c.setState(Object(D.a)({},t,n))},c.onSubmitHandler=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:c.state.email,password:c.state.password},e.next=4,f.fetchPostAPI("/admin/login",n);case 4:(a=e.sent).success?(clearTimeout(k.t),c.setState({message:a.message,siteTitle:a.siteTitle,redirect:"/admin"})):c.setState({message:a.message});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={message:"",email:"",password:"",siteTitle:"Dashboard",redirect:!1},c.checkLogin(),c}return Object(l.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(c.jsx)(h.a,{to:this.state.redirect}):Object(c.jsxs)("div",{className:"Login region",children:[Object(c.jsxs)("form",{id:"login",action:"/admin/login",method:"post",onSubmit:this.onSubmitHandler,children:[Object(c.jsx)("span",{children:"Email:"}),Object(c.jsx)("input",{onChange:this.onChangeHandler,type:"email",name:"email",required:!0}),Object(c.jsx)("span",{children:"Password:"}),Object(c.jsx)("input",{onChange:this.onChangeHandler,type:"password",name:"password",required:!0}),Object(c.jsx)("span",{}),Object(c.jsx)("input",{type:"submit"})]}),Object(c.jsxs)("div",{className:"message",children:[" ",this.state.message," "]})]})}}]),n}(s.a.Component)),A=[Object(c.jsxs)(h.b,{exact:!0,path:"/",children:[Object(c.jsx)(w,{}),Object(c.jsx)(v,{}),Object(c.jsx)(S,{}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/news",children:[Object(c.jsx)(w,{}),Object(c.jsx)(v,{}),Object(c.jsx)("h1",{children:"News"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/contact",children:[Object(c.jsx)(w,{}),Object(c.jsx)(v,{}),Object(c.jsx)("h1",{children:"Contact"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/about",children:[Object(c.jsx)(w,{}),Object(c.jsx)(v,{}),Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)(C,{})]}),Object(c.jsxs)(h.b,{exact:!0,path:"/login",children:[Object(c.jsx)(w,{}),Object(c.jsx)(v,{}),Object(c.jsx)(L,{}),Object(c.jsx)(C,{})]})],M=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(h.d,{children:[A,x]})})}}]),n}(a.Component),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(o.a,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),H()}},[[43,1,2]]]);
//# sourceMappingURL=main.9f58b10d.chunk.js.map